#!/usr/bin/awk

#
# See ../README.md
#

#
# Run as: awk -f ch-2.awk < input-file
#

{
    e1 = ($1 - $3) ^ 2 + ($2 - $4) ^ 2
    e2 = ($3 - $5) ^ 2 + ($4 - $6) ^ 2
    e3 = ($5 - $7) ^ 2 + ($6 - $8) ^ 2
    e4 = ($7 - $1) ^ 2 + ($8 - $2) ^ 2
    d1 = ($1 - $5) ^ 2 + ($2 - $6) ^ 2
    d2 = ($3 - $7) ^ 2 + ($4 - $8) ^ 2

    print ((e1 == e2 && e2 == e3 && e3 == e4 && d1 == d2) ? 1 : 0)
}
