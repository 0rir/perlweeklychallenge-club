#!/usr/bin/perl

use strict;
use warnings;
use Test::More;
use 5.030;

is capture("perl perl/ch-1.pl 20"), <<END;
3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593344612847564823378678316527120190914564856692346034861045432664821339360726024914127372458700660631558817488152092096282925409171536436789259036001133053054882046652138414695194151160943305727036575959195309218611738193261179310511854807446237996
END

# build list of words for testing
ok 0==system("aspell -d en dump master | aspell -l en expand > words.txt");

is capture("perl perl/ch-2.pl words.txt world"), <<END;
w
o
or
ow
owl
old
l
lo
low
lord
r
row
rd
rod
d
do
wold
world
word
END


done_testing;

sub capture {
	my($cmd) = @_;
	my $out = `$cmd`;
	$out =~ s/[ \t\v\f\r]*\n/\n/g;
	return $out;
}
