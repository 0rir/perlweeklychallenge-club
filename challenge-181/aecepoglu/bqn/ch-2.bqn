

Task2←{𝕊lines:
 date      ← •Import "datetime.bqn"
 IsPrevDay ← (⊢=(24×3600)+⊣)○(date.From∘∾⟜0‿0‿0)
 ds‿ts     ← <˘{•BQN¨'-'⊸((⊢-˜¬×+`)∘=⊔⊢)}¨⌾(0⊸⊏)•BQN¨⌾(1⊸⊏)⍉>", "⊸((¬-˜⊢×·+`»>⊢)∘(¬»∨⊢)∘(≠∘⊢↑⍷)⊔⊢)¨lines
 (•Out{𝕨∾'-'∾𝕩}´)˘(((16×' '⊸=)+⊢)¯2⊸↑)¨⌾(1‿2⊸⊏⍉)•Fmt¨((<´1⊸⊑¨)˘/(⊑1⊸⊑)˘) (IsPrevDay´⊑¨)˘⊸/2↕<˘⍉>(⍋ds)⊸⊏¨ds‿ts
}

d←•FLines "temp.txt"
Task2 d

#d←⟨"2022-08-01, 20",
#   "2022-08-09, 10",
#   "2022-08-03, 19",
#   "2022-08-06, 24",
#   "2022-08-05, 22",
#   "2022-08-10, 28",
#   "2022-08-07, 20",
#   "2022-08-04, 18",
#   "2022-08-08, 21",
#   "2022-08-02, 25"⟩
